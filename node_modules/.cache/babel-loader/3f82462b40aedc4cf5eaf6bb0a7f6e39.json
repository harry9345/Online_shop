{"remainingRequest":"/Users/mona/Desktop/Online-shop/node_modules/babel-loader/lib/index.js!/Users/mona/Desktop/Online-shop/node_modules/eslint-loader/index.js??ref--13-0!/Users/mona/Desktop/Online-shop/src/store/modules/cart.js","dependencies":[{"path":"/Users/mona/Desktop/Online-shop/src/store/modules/cart.js","mtime":1598439688000},{"path":"/Users/mona/Desktop/Online-shop/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mona/Desktop/Online-shop/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mona/Desktop/Online-shop/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogZnVuY3Rpb24gc3RhdGUoKSB7CiAgICByZXR1cm4gewogICAgICBpdGVtczogW10sCiAgICAgIHRvdGFsOiAwLAogICAgICBxdHk6IDAKICAgIH07CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGFkZFByb2R1Y3RUb0NhcnQ6IGZ1bmN0aW9uIGFkZFByb2R1Y3RUb0NhcnQoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgdmFyIHByb2R1Y3REYXRhID0gcGF5bG9hZDsKICAgICAgdmFyIHByb2R1Y3RJbkNhcnRJbmRleCA9IHN0YXRlLml0ZW1zLmZpbmRJbmRleChmdW5jdGlvbiAoY2kpIHsKICAgICAgICByZXR1cm4gY2kucHJvZHVjdElkID09PSBwcm9kdWN0RGF0YS5pZDsKICAgICAgfSk7CgogICAgICBpZiAocHJvZHVjdEluQ2FydEluZGV4ID49IDApIHsKICAgICAgICBzdGF0ZS5pdGVtc1twcm9kdWN0SW5DYXJ0SW5kZXhdLnF0eSsrOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBuZXdJdGVtID0gewogICAgICAgICAgcHJvZHVjdElkOiBwcm9kdWN0RGF0YS5pZCwKICAgICAgICAgIHRpdGxlOiBwcm9kdWN0RGF0YS50aXRsZSwKICAgICAgICAgIGltYWdlOiBwcm9kdWN0RGF0YS5pbWFnZSwKICAgICAgICAgIHByaWNlOiBwcm9kdWN0RGF0YS5wcmljZSwKICAgICAgICAgIHF0eTogMQogICAgICAgIH07CiAgICAgICAgc3RhdGUuaXRlbXMucHVzaChuZXdJdGVtKTsKICAgICAgfQoKICAgICAgc3RhdGUucXR5Kys7CiAgICAgIHN0YXRlLnRvdGFsICs9IHByb2R1Y3REYXRhLnByaWNlOwogICAgfSwKICAgIHJlbW92ZVByb2R1Y3RGcm9tQ2FydDogZnVuY3Rpb24gcmVtb3ZlUHJvZHVjdEZyb21DYXJ0KHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHZhciBwcm9kSWQgPSBwYXlsb2FkLnByb2R1Y3RJZDsKICAgICAgdmFyIHByb2R1Y3RJbkNhcnRJbmRleCA9IHN0YXRlLml0ZW1zLmZpbmRJbmRleChmdW5jdGlvbiAoY2FydEl0ZW0pIHsKICAgICAgICByZXR1cm4gY2FydEl0ZW0ucHJvZHVjdElkID09PSBwcm9kSWQ7CiAgICAgIH0pOwogICAgICB2YXIgcHJvZERhdGEgPSBzdGF0ZS5pdGVtc1twcm9kdWN0SW5DYXJ0SW5kZXhdOwogICAgICBzdGF0ZS5pdGVtcy5zcGxpY2UocHJvZHVjdEluQ2FydEluZGV4LCAxKTsKICAgICAgc3RhdGUucXR5IC09IHByb2REYXRhLnF0eTsKICAgICAgc3RhdGUudG90YWwgLT0gcHJvZERhdGEucHJpY2UgKiBwcm9kRGF0YS5xdHk7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBhZGRUb0NhcnQ6IGZ1bmN0aW9uIGFkZFRvQ2FydChjb250ZXh0LCBwYXlsb2FkKSB7CiAgICAgIHZhciBwcm9kSWQgPSBwYXlsb2FkLmlkOwogICAgICB2YXIgcHJvZHVjdHMgPSBjb250ZXh0LnJvb3RHZXR0ZXJzWydwcm9kcy9wcm9kdWN0cyddOwogICAgICB2YXIgcHJvZHVjdCA9IHByb2R1Y3RzLmZpbmQoZnVuY3Rpb24gKHByb2QpIHsKICAgICAgICByZXR1cm4gcHJvZC5pZCA9PT0gcHJvZElkOwogICAgICB9KTsKICAgICAgY29udGV4dC5jb21taXQoJ2FkZFByb2R1Y3RUb0NhcnQnLCBwcm9kdWN0KTsKICAgIH0sCiAgICByZW1vdmVGcm9tQ2FydDogZnVuY3Rpb24gcmVtb3ZlRnJvbUNhcnQoY29udGV4dCwgcGF5bG9hZCkgewogICAgICBjb250ZXh0LmNvbW1pdCgncmVtb3ZlUHJvZHVjdEZyb21DYXJ0JywgcGF5bG9hZCk7CiAgICB9CiAgfSwKICBnZXR0ZXJzOiB7CiAgICBwcm9kdWN0czogZnVuY3Rpb24gcHJvZHVjdHMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLml0ZW1zOwogICAgfSwKICAgIHRvdGFsU3VtOiBmdW5jdGlvbiB0b3RhbFN1bShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudG90YWw7CiAgICB9LAogICAgcXVhbnRpdHk6IGZ1bmN0aW9uIHF1YW50aXR5KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5xdHk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/mona/Desktop/Online-shop/src/store/modules/cart.js"],"names":["namespaced","state","items","total","qty","mutations","addProductToCart","payload","productData","productInCartIndex","findIndex","ci","productId","id","newItem","title","image","price","push","removeProductFromCart","prodId","cartItem","prodData","splice","actions","addToCart","context","products","rootGetters","product","find","prod","commit","removeFromCart","getters","totalSum","quantity"],"mappings":"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","sourcesContent":["export default {\n  namespaced: true,\n  state() {\n    return {\n      items: [],\n      total: 0,\n      qty: 0\n    };\n  },\n  mutations: {\n    addProductToCart(state, payload) {\n      const productData = payload;\n      const productInCartIndex = state.items.findIndex(\n        (ci) => ci.productId === productData.id\n      );\n\n      if (productInCartIndex >= 0) {\n        state.items[productInCartIndex].qty++;\n      } else {\n        const newItem = {\n          productId: productData.id,\n          title: productData.title,\n          image: productData.image,\n          price: productData.price,\n          qty: 1,\n        };\n        state.items.push(newItem);\n      }\n      state.qty++;\n      state.total += productData.price;\n    },\n    removeProductFromCart(state, payload) {\n      const prodId = payload.productId;\n      const productInCartIndex = state.items.findIndex(\n        (cartItem) => cartItem.productId === prodId\n      );\n      const prodData = state.items[productInCartIndex];\n      state.items.splice(productInCartIndex, 1);\n      state.qty -= prodData.qty;\n      state.total -= prodData.price * prodData.qty;\n    },\n  },\n  actions: {\n    addToCart(context, payload) {\n      const prodId = payload.id;\n      const products = context.rootGetters['prods/products'];\n      const product = products.find(prod => prod.id === prodId);\n      context.commit('addProductToCart', product);\n    },\n    removeFromCart(context, payload) {\n      context.commit('removeProductFromCart', payload);\n    }\n  },\n  getters: {\n    products(state) {\n      return state.items;\n    },\n    totalSum(state) {\n      return state.total;\n    },\n    quantity(state) {\n      return state.qty;\n    }\n  }\n};\n"]}]}